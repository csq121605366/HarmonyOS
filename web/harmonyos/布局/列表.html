<!DOCTYPE html> <html><head>
		<title>创建列表 (List)-构建布局-开发布局-UI开发 (ArkTS声明式开发范式)-ArkUI（方舟UI框架）-应用框架</title>
		<base href="..\../">
		<meta id="root-path" root-path="..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="创建列表 (List)                 概述     列表是一种复杂的容器，当列表项达到一定数量，内容超过屏幕大小时，可以自动提供滚动功能。它适合用于呈现同类数据类型或数据类型集……欲了解更多信息欢迎访问华为HarmonyOS开发者官网">
		<meta property="og:title" content="创建列表 (List)-构建布局-开发布局-UI开发 (ArkTS声明式开发范式)-ArkUI（方舟UI框架）-应用框架">
		<meta property="og:description" content="创建列表 (List)                 概述     列表是一种复杂的容器，当列表项达到一定数量，内容超过屏幕大小时，可以自动提供滚动功能。它适合用于呈现同类数据类型或数据类型集……欲了解更多信息欢迎访问华为HarmonyOS开发者官网">
		<meta property="og:type" content="website">
		<meta property="og:url" content="harmonyos/布局/列表.html">
		<meta property="og:image" content="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175937.64185603123160245048354299152758:50001231000000:2800:3011D47336F74FF5AB0D90C06BC5D54D189898CEA3569134CA879B19B22404A9.png">
		<meta property="og:site_name" content="book">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><pre class="frontmatter language-yaml" tabindex="0" style="display: none;"><code class="language-yaml is-loaded"><span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"创建列表 (List)-构建布局-开发布局-UI开发 (ArkTS声明式开发范式)-ArkUI（方舟UI框架）-应用框架"</span>
<span class="token key atrule">source</span><span class="token punctuation">:</span> <span class="token string">"https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list"</span>
<span class="token key atrule">author</span><span class="token punctuation">:</span>
<span class="token key atrule">published</span><span class="token punctuation">:</span>
<span class="token key atrule">created</span><span class="token punctuation">:</span> <span class="token datetime number">2025-04-28</span>
<span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"创建列表 (List)                 概述     列表是一种复杂的容器，当列表项达到一定数量，内容超过屏幕大小时，可以自动提供滚动功能。它适合用于呈现同类数据类型或数据类型集……欲了解更多信息欢迎访问华为HarmonyOS开发者官网"</span>
<span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">"布局"</span></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="创建列表 (List)-构建布局-开发布局-UI开发 (ArkTS声明式开发范式)-ArkUI（方舟UI框架）-应用框架">创建列表 (List)-构建布局-开发布局-UI开发 (ArkTS声明式开发范式)-ArkUI（方舟UI框架）-应用框架</h1><div class="el-h2 heading-wrapper"><h2 data-heading="布局与约束" dir="auto" class="heading" id="布局与约束"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>布局与约束</h2><div class="heading-children"><div class="el-p"><p dir="auto">列表作为一种容器，会自动按其滚动方向排列子组件，向列表中添加组件或从列表中移除组件会重新排列子组件。</p></div><div class="el-p"><p dir="auto">如下图所示，在垂直列表中，List按垂直方向自动排列ListItemGroup或ListItem。</p></div><div class="el-p"><p dir="auto">ListItemGroup用于列表数据的分组展示，其子组件也是ListItem。ListItem表示单个列表项，可以包含单个子组件。</p></div><div class="el-p"><p dir="auto"><strong>图1</strong> List、ListItemGroup和ListItem组件关系</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175937.64185603123160245048354299152758:50001231000000:2800:3011D47336F74FF5AB0D90C06BC5D54D189898CEA3569134CA879B19B22404A9.png" referrerpolicy="no-referrer"></p></div><div class="el-blockquote"><blockquote dir="auto">
<p>List的子组件必须是ListItemGroup或ListItem，ListItem和ListItemGroup必须配合List来使用。</p>
</blockquote></div><div class="el-h3 heading-wrapper"><h3 data-heading="布局" dir="auto" class="heading" id="布局"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>布局</h3><div class="heading-children"><div class="el-p"><p dir="auto">List除了提供垂直和水平布局能力、超出屏幕时可以滚动的自适应延伸能力之外，还提供了自适应交叉轴方向上排列个数的布局能力。</p></div><div class="el-p"><p dir="auto">利用垂直布局能力可以构建单列或者多列垂直滚动列表，如下图所示。</p></div><div class="el-p"><p dir="auto"><strong>图2</strong> 垂直滚动列表（左：单列；右：多列）</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175937.04020983704107325045145275880712:50001231000000:2800:F40A58B6ECF9BB1EF72FB9A6424A324DC91C2248725AA19413814E837DF3A64B.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">利用水平布局能力可以是构建单行或多行水平滚动列表，如下图所示。</p></div><div class="el-p"><p dir="auto"><strong>图3</strong> 水平滚动列表（左：单行；右：多行）</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175937.73210200817113549895451712826788:50001231000000:2800:8668A138EBE1CC7D6E9D3E5DD587EBBA6BB675E8D88949FA5EC4A413C428DEAA.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">Grid和WaterFlow也可以实现单列、多列布局，如果布局每列等宽，且不需要跨行跨列布局，相比Grid和WaterFlow，则更推荐使用List。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="约束" dir="auto" class="heading" id="约束"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>约束</h3><div class="heading-children"><div class="el-p"><p dir="auto">列表的<strong>主轴</strong>方向是指子组件列的排列方向，也是列表的<strong>滚动方向</strong>。垂直于主轴的轴称为交叉轴，其方向与主轴方向相互垂直。</p></div><div class="el-p"><p dir="auto">如下图所示，垂直列表的主轴是垂直方向，交叉轴是水平方向；水平列表的主轴是水平方向，交叉轴是垂直方向。</p></div><div class="el-p"><p dir="auto"><strong>图4</strong> 列表的主轴与交叉轴</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175937.15388356627555318015965369406583:50001231000000:2800:FC406672B86B4C068CB36829FBB2533B530B6BDBE7BD6873F4DC6B413302CC02.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">如果List组件主轴或交叉轴方向设置了尺寸，则其对应方向上的尺寸为设置值。</p></div><div class="el-p"><p dir="auto">如果List组件主轴方向没有设置尺寸，当List子组件主轴方向总尺寸小于List的父组件尺寸时，List主轴方向尺寸自动适应子组件的总尺寸。</p></div><div class="el-p"><p dir="auto">如下图所示，一个垂直列表B没有设置高度时，其父组件A高度为200vp，若其所有子组件C的高度总和为150vp，则此时列表B的高度为150vp。</p></div><div class="el-p"><p dir="auto"><strong>图5</strong> 列表主轴高度约束示例1（ <strong>A</strong>: List的父组件; <strong>B</strong>: List组件; <strong>C</strong>: List的所有子组件）</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.46448249507084696336074843210640:50001231000000:2800:4AF3971753D2175F274BFCDB90B9D28637A4577AB95AF5AE01B6D9786395B6F1.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">如果子组件主轴方向总尺寸超过List父组件尺寸时，List主轴方向尺寸适应List的父组件尺寸。</p></div><div class="el-p"><p dir="auto">如下图所示，同样是没有设置高度的垂直列表B，其父组件A高度为200vp，若其所有子组件C的高度总和为300vp，则此时列表B的高度为200vp。</p></div><div class="el-p"><p dir="auto"><strong>图6</strong> 列表主轴高度约束示例2（ <strong>A</strong>: List的父组件; <strong>B</strong>: List组件; <strong>C</strong>: List的所有子组件）</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.80643174799876357089386808115143:50001231000000:2800:E97E9C9B5BEE09F12931DDAB0EBF11DD703CFCD644EE948ACE329273DB849996.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">List组件交叉轴方向在没有设置尺寸时，其尺寸默认自适应父组件尺寸。</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="开发布局" dir="auto" class="heading" id="开发布局"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>开发布局</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="设置主轴方向" dir="auto" class="heading" id="设置主轴方向"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>设置主轴方向</h3><div class="heading-children"><div class="el-p"><p dir="auto">List组件主轴默认是<strong>垂直方向</strong>，即默认情况下不需要手动设置List方向，就可以构建一个垂直滚动列表。</p></div><div class="el-p"><p dir="auto">若是水平滚动列表场景，将List的<strong>listDirection</strong>属性设置为<strong>Axis.Horizontal</strong>即可实现。listDirection默认为Axis.Vertical，即主轴默认是垂直方向。</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
    <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">textAlign</span><span class="token punctuation">(</span>TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
<span class="token punctuation">.</span><span class="token function">listDirection</span><span class="token punctuation">(</span>Axis<span class="token punctuation">.</span>Horizontal<span class="token punctuation">)</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">同样以垂直列表为例，当alignListItem属性设置为ListItemAlign.Center表示列表项在水平方向上居中对齐。alignListItem的默认值是ListItemAlign.Start，即列表项在列表交叉轴方向上默认按首部对齐。</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
    <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">textAlign</span><span class="token punctuation">(</span>TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
<span class="token punctuation">.</span><span class="token function">lanes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  
<span class="token punctuation">.</span><span class="token function">alignListItem</span><span class="token punctuation">(</span>ListItemAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="在列表中显示数据" dir="auto" class="heading" id="在列表中显示数据"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>在列表中显示数据</h2><div class="heading-children"><div class="el-p"><p dir="auto">列表视图垂直或水平显示项目集合，在行或列超出屏幕时提供滚动功能，使其适合显示大型数据集合。在最简单的列表形式中，List静态地创建其列表项ListItem的内容。</p></div><div class="el-p"><p dir="auto"><strong>图7</strong> 城市列表</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.65441333721337458593923387620337:50001231000000:2800:5F4F06621F3E11DC38A84A4DF3240777C33E24B267658A091388E070396701D3.png" referrerpolicy="no-referrer"></p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'北京'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span>  
  
  <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'杭州'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span>  
  
  <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'上海'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
<span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token string">'#FFF1F3F5'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alignListItem</span><span class="token punctuation">(</span>ListItemAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">由于在ListItem中只能有一个根节点组件，不支持以平铺形式使用多个组件。因此，若列表项是由多个组件元素组成的，则需要将这多个元素组合到一个容器组件内或组成一个自定义组件。</p></div><div class="el-p"><p dir="auto"><strong>图8</strong> 联系人列表项示例</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.54068726082992417203116736461354:50001231000000:2800:0488644BBD192CAC5E15C39D20AA6CB553CB66E645736D475A2D8E8CFDD72CC8.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">如上图所示，联系人列表的列表项中，每个联系人都有头像和名称。此时，需要将Image和Text封装到一个Row容器内。</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token function">Row</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token function">SymbolGlyph</span><span class="token punctuation">(</span><span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'sys.symbol.portrait'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">margin</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  
      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>  
  <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token function">Row</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token function">SymbolGlyph</span><span class="token punctuation">(</span><span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'sys.symbol.portrait'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">margin</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  
      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'小红'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="迭代列表内容" dir="auto" class="heading" id="迭代列表内容"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>迭代列表内容</h2><div class="heading-children"><div class="el-p"><p dir="auto">通常，应用通过数据集合动态地创建列表。使用 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" target="_blank">循环渲染</a> 可从数据源中迭代获取数据，并在每次迭代过程中创建相应的组件，降低代码复杂度。</p></div><div class="el-p"><p dir="auto">ArkTS通过 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" target="_blank">ForEach</a> 提供了组件的循环渲染能力。以简单形式的联系人列表为例，将联系人名称和头像数据以Contact类结构存储到contacts数组，使用ForEach中嵌套ListItem的形式来代替多个平铺的、内容相似的ListItem，从而减少重复代码。</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token keyword">import</span> <span class="token punctuation">{</span> util <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@kit.ArkTS'</span>  
  
<span class="token keyword">class</span> <span class="token class-name">Contact</span> <span class="token punctuation">{</span>  
  key<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">generateRandomUUID</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  
  icon<span class="token operator">:</span> Resource<span class="token punctuation">;</span>  
  
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> icon<span class="token operator">:</span> Resource<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>icon <span class="token operator">=</span> icon<span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
  
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span>  
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span>  
struct SimpleContacts <span class="token punctuation">{</span>  
  <span class="token keyword">private</span> contacts<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>object<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span>  
    <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'sys.symbol.portrait'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">'小红'</span><span class="token punctuation">,</span> <span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'sys.symbol.portrait'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
  <span class="token punctuation">]</span>  
  
  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>contacts<span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> Contact<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
        <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
          <span class="token function">Row</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            <span class="token function">SymbolGlyph</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>icon<span class="token punctuation">)</span>  
              <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>  
              <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>  
              <span class="token punctuation">.</span><span class="token function">margin</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  
            <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  
          <span class="token punctuation">}</span>  
          <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>  
          <span class="token punctuation">.</span><span class="token function">justifyContent</span><span class="token punctuation">(</span>FlexAlign<span class="token punctuation">.</span>Start<span class="token punctuation">)</span>  
        <span class="token punctuation">}</span>  
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> Contact<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
    <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">在List组件中，ForEach除了可以用来循环渲染ListItem，也可以用来循环渲染ListItemGroup。ListItemGroup的循环渲染详细使用请参见 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list#%E6%94%AF%E6%8C%81%E5%88%86%E7%BB%84%E5%88%97%E8%A1%A8" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list#%E6%94%AF%E6%8C%81%E5%88%86%E7%BB%84%E5%88%97%E8%A1%A8" target="_blank">支持分组列表</a> 。</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="自定义列表样式" dir="auto" class="heading" id="自定义列表样式"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>自定义列表样式</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="设置内容间距" dir="auto" class="heading" id="设置内容间距"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>设置内容间距</h3><div class="heading-children"><div class="el-p"><p dir="auto">在初始化列表时，如需在列表项之间添加间距，可以使用space参数。例如，在每个列表项之间沿主轴方向添加10vp的间距：</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">{</span> space<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="添加分隔线" dir="auto" class="heading" id="添加分隔线"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>添加分隔线</h3><div class="heading-children"><div class="el-p"><p dir="auto">分隔线用来将界面元素隔开，使单个元素更加容易识别。如下图所示，当列表项左边有图标（如蓝牙图标），由于图标本身就能很好的区分，此时分隔线从图标之后开始显示即可。</p></div><div class="el-p"><p dir="auto"><strong>图9</strong> 设置列表分隔线样式</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.80704935651114493436716421074673:50001231000000:2800:AEA60CEF5A06D0616E2C460A6E0959FEF40DD154E17F0B9D30305C0361C6FB9F.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">List提供了divider属性用于给列表项之间添加分隔线。在设置divider属性时，可以通过strokeWidth和color属性设置分隔线的粗细和颜色。</p></div><div class="el-p"><p dir="auto">startMargin和endMargin属性分别用于设置分隔线距离列表侧边起始端的距离和距离列表侧边结束端的距离。</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token keyword">class</span> <span class="token class-name">DividerTmp</span> <span class="token punctuation">{</span>  strokeWidth<span class="token operator">:</span> Length <span class="token operator">=</span> <span class="token number">1</span>  startMargin<span class="token operator">:</span> Length <span class="token operator">=</span> <span class="token number">60</span>  endMargin<span class="token operator">:</span> Length <span class="token operator">=</span> <span class="token number">10</span>  color<span class="token operator">:</span> ResourceColor <span class="token operator">=</span> <span class="token string">'#ffe9f0f0'</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>strokeWidth<span class="token operator">:</span> Length<span class="token punctuation">,</span> startMargin<span class="token operator">:</span> Length<span class="token punctuation">,</span> endMargin<span class="token operator">:</span> Length<span class="token punctuation">,</span> color<span class="token operator">:</span> ResourceColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> strokeWidth    <span class="token keyword">this</span><span class="token punctuation">.</span>startMargin <span class="token operator">=</span> startMargin    <span class="token keyword">this</span><span class="token punctuation">.</span>endMargin <span class="token operator">=</span> endMargin    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Componentstruct</span></span> EgDivider <span class="token punctuation">{</span>  <span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> egDivider<span class="token operator">:</span> DividerTmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DividerTmp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'#ffe9f0f0'</span><span class="token punctuation">)</span>  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// ...    }    .divider(this.egDivider)  }}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">此示例表示从距离列表侧边起始端60vp开始到距离结束端10vp的位置，画一条粗细为1vp的分割线，可以实现图9设置列表分隔线的样式。</p></div><div class="el-p"><p dir="auto">说明</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">分隔线的宽度会使ListItem之间存在一定间隔，当List设置的内容间距小于分隔线宽度时，ListItem之间的间隔会使用分隔线的宽度。</li>
<li data-line="1" dir="auto">当List存在多列时，分割线的startMargin和endMargin作用于每一列上。</li>
<li data-line="2" dir="auto">List组件的分隔线画在两个ListItem之间，第一个ListItem上方和最后一个ListItem下方不会绘制分隔线。</li>
</ol></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="添加滚动条" dir="auto" class="heading" id="添加滚动条"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>添加滚动条</h3><div class="heading-children"><div class="el-p"><p dir="auto">当列表项高度（宽度）超出屏幕高度（宽度）时，列表可以沿垂直（水平）方向滚动。在页面内容很多时，若用户需快速定位，可拖拽滚动条，如下图所示。</p></div><div class="el-p"><p dir="auto"><strong>图10</strong> 列表的滚动条</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.58534327256836473568336779524138:50001231000000:2800:02F04F4D35E2CE3FAEA6682EA42D8F01E0CC71E4782CB25ABE4107B650F317AE.gif" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">在使用List组件时，可通过scrollBar属性控制列表滚动条的显示。scrollBar的取值类型为 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#barstate" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#barstate" target="_blank">BarState</a> ，当取值为BarState.Auto表示按需显示滚动条。此时，当触摸到滚动条区域时显示控件，可上下拖拽滚动条快速浏览内容，拖拽时会变粗。若不进行任何操作，2秒后滚动条自动消失。</p></div><div class="el-p"><p dir="auto">scrollBar属性API version 9及以下版本默认值为BarState.Off，从API version 10版本开始默认值为BarState.Auto。</p></div><div class="el-p"><p dir="auto">收起</p></div><div class="el-p"><p dir="auto">深色代码主题</p></div><div class="el-p"><p dir="auto">复制</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ...}.scrollBar(BarState.Auto)</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="支持分组列表" dir="auto" class="heading" id="支持分组列表"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>支持分组列表</h2><div class="heading-children"><div class="el-p"><p dir="auto">在列表中支持数据的分组展示，可以使列表显示结构清晰，查找方便，从而提高使用效率。分组列表在实际应用中十分常见，如下图所示联系人列表。</p></div><div class="el-p"><p dir="auto"><strong>图11</strong> 联系人分组列表</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.74063908673233044399029631738483:50001231000000:2800:3060185B6C4C94872FF87E2DB161D669214F36FBF5CCB492D90D070AD736510B.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">在List组件中使用ListItemGroup对项目进行分组，可以构建二维列表。</p></div><div class="el-p"><p dir="auto">在List组件中可以直接使用一个或者多个ListItemGroup组件，ListItemGroup的宽度默认充满List组件。在初始化ListItemGroup时，可通过header参数设置列表分组的头部组件。</p></div><div class="el-p"><p dir="auto">如果多个ListItemGroup结构类似，可以将多个分组的数据组成数组，然后使用ForEach对多个分组进行循环渲染。例如在联系人列表中，将每个分组的联系人数据contacts（可参考 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list#%E8%BF%AD%E4%BB%A3%E5%88%97%E8%A1%A8%E5%86%85%E5%AE%B9" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list#%E8%BF%AD%E4%BB%A3%E5%88%97%E8%A1%A8%E5%86%85%E5%AE%B9" target="_blank">迭代列表内容</a> 章节）和对应分组的标题title数据进行组合，定义为数组contactsGroups。然后在ForEach中对contactsGroups进行循环渲染，即可实现多个分组的联系人列表。可参考 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list#%E6%B7%BB%E5%8A%A0%E7%B2%98%E6%80%A7%E6%A0%87%E9%A2%98" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list#%E6%B7%BB%E5%8A%A0%E7%B2%98%E6%80%A7%E6%A0%87%E9%A2%98" target="_blank">添加粘性标题</a> 章节示例代码。</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="添加粘性标题" dir="auto" class="heading" id="添加粘性标题"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>添加粘性标题</h2><div class="heading-children"><div class="el-p"><p dir="auto">粘性标题是一种常见的标题模式，常用于定位字母列表的头部元素。如下图所示，在联系人列表中滚动A部分时，B部分开始的头部元素始终处于A的下方。而在开始滚动B部分时，B的头部会固定在屏幕顶部，直到所有B的项均完成滚动后，才被后面的头部替代。</p></div><div class="el-p"><p dir="auto">粘性标题不仅有助于阐明列表中数据的表示形式和用途，还可以帮助用户在大量信息中进行数据定位，从而避免用户在标题所在的表的顶部与感兴趣区域之间反复滚动。</p></div><div class="el-p"><p dir="auto"><strong>图12</strong> 粘性标题</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.79045787824115699018129616701142:50001231000000:2800:41187B8C509CE23AB37E041CF1D26BD1BED1F505DEB38CBBEEEC67823C56F2D8.gif" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">List组件的sticky属性配合ListItemGroup组件使用，用于设置ListItemGroup中的头部组件是否呈现吸顶效果或者尾部组件是否呈现吸底效果。</p></div><div class="el-p"><p dir="auto">通过给List组件设置sticky属性为StickyStyle.Header，即可实现列表的粘性标题效果。如果需要支持吸底效果，可以通过footer参数初始化ListItemGroup的底部组件，并将sticky属性设置为StickyStyle.Footer。</p></div><div class="el-p"><p dir="auto">收起</p></div><div class="el-p"><p dir="auto">深色代码主题</p></div><div class="el-p"><p dir="auto">复制</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token keyword">import</span> <span class="token punctuation">{</span> util <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@kit.ArkTS'</span><span class="token keyword">class</span> <span class="token class-name">Contact</span> <span class="token punctuation">{</span>  key<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">generateRandomUUID</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  icon<span class="token operator">:</span> Resource<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> icon<span class="token operator">:</span> Resource<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>icon <span class="token operator">=</span> icon<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">ContactsGroup</span> <span class="token punctuation">{</span>  title<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">''</span>  contacts<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>object<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>  key<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">let</span> contactsGroups<span class="token operator">:</span> object<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    title<span class="token operator">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span>    contacts<span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">'艾佳'</span><span class="token punctuation">,</span> <span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'app.media.iconA'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">'安安'</span><span class="token punctuation">,</span> <span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'app.media.iconB'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">'Angela'</span><span class="token punctuation">,</span> <span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'app.media.iconC'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    key<span class="token operator">:</span> util<span class="token punctuation">.</span><span class="token function">generateRandomUUID</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span> <span class="token keyword">as</span> ContactsGroup<span class="token punctuation">,</span>  <span class="token punctuation">{</span>    title<span class="token operator">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span>    contacts<span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">'白叶'</span><span class="token punctuation">,</span> <span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'app.media.iconD'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">'伯明'</span><span class="token punctuation">,</span> <span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'app.media.iconE'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    key<span class="token operator">:</span> util<span class="token punctuation">.</span><span class="token function">generateRandomUUID</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span> <span class="token keyword">as</span> ContactsGroup<span class="token punctuation">,</span>  <span class="token comment">// ...]@Entry@Componentstruct ContactsList {  // 定义分组联系人数据集合contactsGroups数组  @Builder itemHead(text: string) {    // 列表分组的头部组件，对应联系人分组A、B等位置的组件    Text(text)      .fontSize(20)      .backgroundColor('#fff1f3f5')      .width('100%')      .padding(5)  }  build() {    List() {      // 循环渲染ListItemGroup，contactsGroups为多个分组联系人contacts和标题title的数据集合      ForEach(contactsGroups, (itemGroup: ContactsGroup) =&gt; {        ListItemGroup({ header: this.itemHead(itemGroup.title) }) {          // 循环渲染ListItem          if (itemGroup.contacts) {            ForEach(itemGroup.contacts, (item: Contact) =&gt; {              ListItem() {                // ...              }            }, (item: Contact) =&gt; JSON.stringify(item))          }        }      }, (itemGroup: ContactsGroup) =&gt; JSON.stringify(itemGroup))    }.sticky(StickyStyle.Header)  // 设置吸顶，实现粘性标题效果  }}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="控制滚动位置" dir="auto" class="heading" id="控制滚动位置"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>控制滚动位置</h2><div class="heading-children"><div class="el-p"><p dir="auto">控制滚动位置在实际应用中十分常见，例如当新闻页列表项数量庞大，用户滚动列表到一定位置时，希望快速滚动到列表底部或返回列表顶部。此时，可以通过控制滚动位置来实现列表的快速定位，如下图所示。</p></div><div class="el-p"><p dir="auto"><strong>图13</strong> 返回列表顶部</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.98294742396388110927465264131262:50001231000000:2800:8BEC99AE400CECF66A4231C7FDAE048EE3640F0ED6D2D235763E780254B57449.gif" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">List组件初始化时，可以通过scroller参数绑定一个 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scroller" target="_blank">Scroller</a> 对象，进行列表的滚动控制。例如，用户在新闻应用中，点击新闻页面底部的返回顶部按钮时，就可以通过Scroller对象的scrollToIndex方法使列表滚动到指定的列表项索引位置。</p></div><div class="el-p"><p dir="auto">首先，需要创建一个Scroller的对象listScroller。</p></div><div class="el-p"><p dir="auto">收起</p></div><div class="el-p"><p dir="auto">深色代码主题</p></div><div class="el-p"><p dir="auto">复制</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token keyword">private</span> listScroller<span class="token operator">:</span> Scroller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scroller</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">然后，通过将listScroller用于初始化List组件的scroller参数，完成listScroller与列表的绑定。在需要跳转的位置指定scrollToIndex的参数为0，表示返回列表顶部。</p></div><div class="el-p"><p dir="auto">收起</p></div><div class="el-p"><p dir="auto">深色代码主题</p></div><div class="el-p"><p dir="auto">复制</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">Stack</span><span class="token punctuation">(</span><span class="token punctuation">{</span> alignContent<span class="token operator">:</span> Alignment<span class="token punctuation">.</span>Bottom <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 将listScroller用于初始化List组件的scroller参数，完成listScroller与列表的绑定。  List({ space: 20, scroller: this.listScroller }) {    // ...  }</span>
  <span class="token function">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// ...  }  .onClick(() =&gt; {    // 点击按钮时，指定跳转位置，返回列表顶部    this.listScroller.scrollToIndex(0)  })}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="响应滚动位置" dir="auto" class="heading" id="响应滚动位置"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>响应滚动位置</h2><div class="heading-children"><div class="el-p"><p dir="auto">许多应用需要监听列表的滚动位置变化并作出响应。例如，在联系人列表滚动时，如果跨越了不同字母开头的分组，则侧边字母索引栏也需要更新到对应的字母位置。</p></div><div class="el-p"><p dir="auto">除了字母索引之外，滚动列表结合多级分类索引在应用开发过程中也很常见，例如购物应用的商品分类页面，多级分类也需要监听列表的滚动位置。</p></div><div class="el-p"><p dir="auto"><strong>图14</strong> 字母索引响应联系人列表滚动</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.15734377000717038322846941156369:50001231000000:2800:4B1AE8DD157940F3070BF2D7454B25C0DFEA502DDF1A60C258C15F32DA6E791A.gif" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">如上图所示，当联系人列表从A滚动到B时，右侧索引栏也需要同步从选中A状态变成选中B状态。此场景可以通过监听List组件的onScrollIndex事件来实现，右侧索引栏需要使用字母表索引组件 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-alphabet-indexer" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-alphabet-indexer" target="_blank">AlphabetIndexer</a> 。</p></div><div class="el-p"><p dir="auto">在列表滚动时，根据列表此时所在的索引值位置firstIndex，重新计算字母索引栏对应字母的位置selectedIndex。由于AlphabetIndexer组件通过selected属性设置了选中项索引值，当selectedIndex变化时会触发AlphabetIndexer组件重新渲染，从而显示为选中对应字母的状态。</p></div><div class="el-p"><p dir="auto">收起</p></div><div class="el-p"><p dir="auto">深色代码主题</p></div><div class="el-p"><p dir="auto">复制</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token keyword">const</span> alphabets <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'#'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'J'</span><span class="token punctuation">,</span> <span class="token string">'K'</span><span class="token punctuation">,</span>  <span class="token string">'L'</span><span class="token punctuation">,</span> <span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'O'</span><span class="token punctuation">,</span> <span class="token string">'P'</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">,</span> <span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'S'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">'U'</span><span class="token punctuation">,</span> <span class="token string">'V'</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">,</span> <span class="token string">'Y'</span><span class="token punctuation">,</span> <span class="token string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Componentstruct</span></span> ContactsList <span class="token punctuation">{</span>  <span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> selectedIndex<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">private</span> listScroller<span class="token operator">:</span> Scroller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scroller</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">Stack</span><span class="token punctuation">(</span><span class="token punctuation">{</span> alignContent<span class="token operator">:</span> Alignment<span class="token punctuation">.</span>End <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">{</span> scroller<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listScroller <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>      <span class="token punctuation">.</span><span class="token function">onScrollIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span>firstIndex<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 根据列表滚动到的索引值，重新计算对应联系人索引栏的位置this.selectedIndex      })</span>
      <span class="token comment">// 字母表索引组件      AlphabetIndexer({ arrayValue: alphabets, selected: 0 })        .selected(this.selectedIndex)    }  }}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">说明</p></div><div class="el-p"><p dir="auto">计算索引值时，ListItemGroup作为一个整体占一个索引值，不计算ListItemGroup内部ListItem的索引值。</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="响应列表项侧滑" dir="auto" class="heading" id="响应列表项侧滑"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>响应列表项侧滑</h2><div class="heading-children"><div class="el-p"><p dir="auto">侧滑菜单在许多应用中都很常见。例如，通讯类应用通常会给消息列表提供侧滑删除功能，即用户可以通过向左侧滑列表的某一项，再点击删除按钮删除消息，如下图所示。其中，列表项头像右上角标记设置参考 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list#%E7%BB%99%E5%88%97%E8%A1%A8%E9%A1%B9%E6%B7%BB%E5%8A%A0%E6%A0%87%E8%AE%B0" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-create-list#%E7%BB%99%E5%88%97%E8%A1%A8%E9%A1%B9%E6%B7%BB%E5%8A%A0%E6%A0%87%E8%AE%B0" target="_blank">给列表项添加标记</a> 。</p></div><div class="el-p"><p dir="auto"><strong>图15</strong> 侧滑删除列表项</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.67818287583621700800447965667596:50001231000000:2800:FEC534EE690A3C40650D9991B2D3AF57D81850BB0A85FFE0E50440BE1C9F8BE5.gif" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">ListItem的 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem#swipeaction9" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem#swipeaction9" target="_blank">swipeAction属性</a> 可用于实现列表项的左右滑动功能。swipeAction属性方法初始化时有必填参数SwipeActionOptions，其中，start参数表示设置列表项右滑时起始端滑出的组件，end参数表示设置列表项左滑时尾端滑出的组件。</p></div><div class="el-p"><p dir="auto">在消息列表中，end参数表示设置ListItem左滑时尾端划出自定义组件，即删除按钮。在初始化end方法时，将滑动列表项的索引传入删除按钮组件，当用户点击删除按钮时，可以根据索引值来删除列表项对应的数据，从而实现侧滑删除功能。</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">实现尾端滑出组件的构建。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="4" class="language-typescript is-loaded"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Builder</span></span> <span class="token function">itemEnd</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 构建尾端滑出组件  Button({ type: ButtonType.Circle }) {    Image($r('app.media.ic_public_delete_filled'))      .width(20)      .height(20)  }  .onClick(() =&gt; {    // this.messages为列表数据源，可根据实际场景构造。点击后从数据源删除指定数据项。    this.messages.splice(index, 1);  })}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="7" dir="auto">绑定swipeAction属性到可左滑的ListItem上。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="11" class="language-typescript is-loaded"><span class="token comment">// 构建List时，通过ForEach基于数据源this.messages循环渲染ListItem。ListItem() {  // ...}.swipeAction({  end: {    // index为该ListItem在List中的索引值。    builder: () =&gt; { this.itemEnd(index) },  }}) // 设置侧滑属性.</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ol></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="给列表项添加标记" dir="auto" class="heading" id="给列表项添加标记"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>给列表项添加标记</h2><div class="heading-children"><div class="el-p"><p dir="auto">添加标记是一种无干扰性且直观的方法，用于显示通知或将注意力集中到应用内的某个区域。例如，当消息列表接收到新消息时，通常对应的联系人头像的右上方会出现标记，提示有若干条未读消息，如下图所示。</p></div><div class="el-p"><p dir="auto"><strong>图16</strong> 给列表项添加标记</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175938.16699698634042723153004185201167:50001231000000:2800:7C28A4555D21D4D1BEB56B7298A05C27BE6F77DC1573FC2333844C0DB3AA7D14.png" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">在ListItem中使用 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-badge" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-badge" target="_blank">Badge</a> 组件可实现给列表项添加标记功能。Badge是可以附加在单个组件上用于信息标记的容器组件。</p></div><div class="el-p"><p dir="auto">在消息列表中，若希望在联系人头像右上角添加标记，可在实现消息列表项ListItem的联系人头像时，将头像Image组件作为Badge的子组件。</p></div><div class="el-p"><p dir="auto">在Badge组件中，count和position参数用于设置需要展示的消息数量和提示点显示位置，还可以通过style参数灵活设置标记的样式。</p></div><div class="el-p"><p dir="auto">收起</p></div><div class="el-p"><p dir="auto">深色代码主题</p></div><div class="el-p"><p dir="auto">复制</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">Badge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    position<span class="token operator">:</span> BadgePosition<span class="token punctuation">.</span>RightTop<span class="token punctuation">,</span>    style<span class="token operator">:</span> <span class="token punctuation">{</span> badgeSize<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> badgeColor<span class="token operator">:</span> <span class="token string">'#FA2A2D'</span> <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// Image组件实现消息联系人头像    // ...  }}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="下拉刷新与上拉加载" dir="auto" class="heading" id="下拉刷新与上拉加载"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>下拉刷新与上拉加载</h2><div class="heading-children"><div class="el-p"><p dir="auto">页面的下拉刷新与上拉加载功能在移动应用中十分常见，例如，新闻页面的内容刷新和加载。这两种操作的原理都是通过响应用户的 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-touch" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-touch" target="_blank">触摸事件</a> ，在顶部或者底部显示一个刷新或加载视图，完成后再将此视图隐藏。</p></div><div class="el-p"><p dir="auto">以下拉刷新为例，其实现主要分成三步：</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">监听手指按下事件，记录其初始位置的值。</li>
<li data-line="1" dir="auto">监听手指按压移动事件，记录并计算当前移动的位置与初始值的差值，大于0表示向下移动，同时设置一个允许移动的最大值。</li>
<li data-line="2" dir="auto">监听手指抬起事件，若此时移动达到最大值，则触发数据加载并显示刷新视图，加载完成后将此视图隐藏。</li>
</ol></div><div class="el-p"><p dir="auto">说明</p></div><div class="el-p"><p dir="auto">页面的下拉刷新操作推荐使用 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-refresh" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-refresh" target="_blank">Refresh</a> 组件实现。</p></div><div class="el-p"><p dir="auto">下拉刷新与上拉加载的具体实现可参考 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/codelabsPortal/carddetails/tutorials_NEXT-NewsDataArkTS" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/codelabsPortal/carddetails/tutorials_NEXT-NewsDataArkTS" target="_blank">新闻数据加载</a> 。</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="编辑列表" dir="auto" class="heading" id="编辑列表"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>编辑列表</h2><div class="heading-children"><div class="el-p"><p dir="auto">列表的编辑模式用途十分广泛，常见于待办事项管理、文件管理、备忘录的记录管理等应用场景。在列表的编辑模式下，新增和删除列表项是最基础的功能，其核心是对列表项对应的数据集合进行数据添加和删除。</p></div><div class="el-p"><p dir="auto">下面以待办事项管理为例，介绍如何快速实现新增和删除列表项功能。</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="新增列表项" dir="auto" class="heading" id="新增列表项"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>新增列表项</h3><div class="heading-children"><div class="el-p"><p dir="auto">如下图所示，当用户点击添加按钮时，提供用户新增列表项内容选择或填写的交互界面，用户点击确定后，列表中新增对应的项目。</p></div><div class="el-p"><p dir="auto"><strong>图17</strong> 新增待办</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175939.54058751867990049517687222934295:50001231000000:2800:4A9423A7B76A2583BF4E1CA5F613B5C17606993F3A45B5F0D1A6179FC6E0D9EB.gif" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">添加列表项功能实现主要流程如下：</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">定义列表项数据结构，以待办事项管理为例，首先定义待办数据结构。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="4" class="language-typescript is-loaded"><span class="token comment">//ToDo.etsimport { util } from '@kit.ArkTS'</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ToDo</span> <span class="token punctuation">{</span>  key<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">generateRandomUUID</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="9" dir="auto">构建列表整体布局和列表项。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="13" class="language-typescript is-loaded"><span class="token comment">//ToDoListItem.etsimport { ToDo } from './ToDo';@Componentexport struct ToDoListItem {  @Link isEditMode: boolean  @Link selectedItems: ToDo[]  private toDoItem: ToDo = new ToDo("");</span>
  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token function">Flex</span><span class="token punctuation">(</span><span class="token punctuation">{</span> justifyContent<span class="token operator">:</span> FlexAlign<span class="token punctuation">.</span>SpaceBetween<span class="token punctuation">,</span> alignItems<span class="token operator">:</span> ItemAlign<span class="token punctuation">.</span>Center <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment">// ...   }   .width('100%')   .height(80)   //.padding() 根据具体使用场景设置   .borderRadius(24)   //.linearGradient() 根据具体使用场景设置   .gesture(     GestureGroup(GestureMode.Exclusive,     LongPressGesture()       .onAction(() =&gt; {         // ...       })     )   )  }}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="17" dir="auto">初始化待办列表数据和可选事项，最后，构建列表布局和列表项。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="21" class="language-typescript is-loaded"><span class="token comment">//ToDoList.etsimport { ToDo } from './ToDo';import { ToDoListItem } from './ToDoListItem';</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Componentstruct</span></span> ToDoList <span class="token punctuation">{</span>  <span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> toDoData<span class="token operator">:</span> ToDo<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Watch</span></span><span class="token punctuation">(</span><span class="token string">'onEditModeChange'</span><span class="token punctuation">)</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> isEditMode<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>  <span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> selectedItems<span class="token operator">:</span> ToDo<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">private</span> availableThings<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'读书'</span><span class="token punctuation">,</span> <span class="token string">'运动'</span><span class="token punctuation">,</span> <span class="token string">'旅游'</span><span class="token punctuation">,</span> <span class="token string">'听音乐'</span><span class="token punctuation">,</span> <span class="token string">'看电影'</span><span class="token punctuation">,</span> <span class="token string">'唱歌'</span><span class="token punctuation">]</span>
  <span class="token function">onEditModeChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isEditMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>selectedItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span>
  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">Row</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isEditMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'X'</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>              <span class="token keyword">this</span><span class="token punctuation">.</span>isEditMode <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">margin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> right<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'待办'</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">margin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>          <span class="token function">Blank</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'+'</span><span class="token punctuation">)</span> <span class="token comment">//提供新增列表项入口，即给新增按钮添加点击事件            .onClick(() =&gt; {              this.getUIContext().showTextPickerDialog({                range: this.availableThings,                onAccept: (value: TextPickerResult) =&gt; {                  let arr = Array.isArray(value.index) ? value.index : [value.index];                  for (let i = 0; i &lt; arr.length; i++) {                    this.toDoData.push(new ToDo(this.availableThings[arr[i]])); // 新增列表项数据toDoData(可选事项)                  }                },              })            })        }        List({ space: 10 }) {          ForEach(this.toDoData, (toDoItem: ToDo) =&gt; {            ListItem() {              // 将toDoData的每个数据放入到以model的形式放进ListItem里              ToDoListItem({                isEditMode: this.isEditMode,                toDoItem: toDoItem,                selectedItems: this.selectedItems })            }          }, (toDoItem: ToDo) =&gt; toDoItem.key.toString())        }      }    }  }}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ol></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="删除列表项" dir="auto" class="heading" id="删除列表项"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>删除列表项</h3><div class="heading-children"><div class="el-p"><p dir="auto">如下图所示，当用户长按列表项进入删除模式时，提供用户删除列表项选择的交互界面，用户勾选完成后点击删除按钮，列表中删除对应的项目。</p></div><div class="el-p"><p dir="auto"><strong>图18</strong> 长按删除待办事项</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175939.28292580669831414422345632736796:50001231000000:2800:ED653C5F77FE6F2FA161B94EF205D86B641B6C47BFB18357D322B48E5AB22EC2.gif" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">删除列表项功能实现主要流程如下：</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">列表的删除功能一般进入编辑模式后才可使用，所以需要提供编辑模式的入口。<br>
以待办列表为例，通过监听列表项的长按事件，当用户长按列表项时，进入编辑模式。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="5" class="language-typescript is-loaded"><span class="token comment">// 结构参考export class ToDo {  key: string = util.generateRandomUUID(true);  name: string;  toDoData: ToDo[] = [];</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="12" class="language-typescript is-loaded"><span class="token comment">// 实现参考Flex({ justifyContent: FlexAlign.SpaceBetween, alignItems: ItemAlign.Center }) {  // ...}.gesture(GestureGroup(GestureMode.Exclusive,  LongPressGesture()    .onAction(() =&gt; {      if (!this.isEditMode) {        this.isEditMode = true; //进入编辑模式      }    })  ))</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="15" dir="auto">需要响应用户的选择交互，记录要删除的列表项数据。<br>
在待办列表中，通过勾选框的勾选或取消勾选，响应用户勾选列表项变化，记录所有选择的列表项。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="20" class="language-typescript is-loaded"><span class="token comment">// 结构参考import { util } from '@kit.ArkTS'export class ToDo { key: string = util.generateRandomUUID(true); name: string; toDoData: ToDo[] = [];</span>
 <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="27" class="language-typescript is-loaded"><span class="token comment">// 实现参考if (this.isEditMode) {  Checkbox()    .onChange((isSelected) =&gt; {      if (isSelected) {        this.selectedItems.push(toDoList.toDoItem) // this.selectedItems为勾选时，记录选中的列表项，可根据实际场景构造      } else {        let index = this.selectedItems.indexOf(toDoList.toDoItem)        if (index !== -1) {          this.selectedItems.splice(index, 1) // 取消勾选时，则将此项从selectedItems中删除        }      }    })}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="30" dir="auto">需要响应用户点击删除按钮事件，删除列表中对应的选项。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="34" class="language-typescript is-loaded"><span class="token comment">// 结构参考import { util } from '@kit.ArkTS'export class ToDo {  key: string = util.generateRandomUUID(true);  name: string;  toDoData: ToDo[] = [];</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="41" class="language-typescript is-loaded"><span class="token comment">// 实现参考Button('删除')  .onClick(() =&gt; {    // this.toDoData为待办的列表项，可根据实际场景构造。点击后删除选中的列表项对应的toDoData数据    let leftData = this.toDoData.filter((item) =&gt; {      return !this.selectedItems.find((selectedItem) =&gt; selectedItem == item);    })    this.toDoData = leftData;    this.isEditMode = false;  })</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ol></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="长列表的处理" dir="auto" class="heading" id="长列表的处理"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>长列表的处理</h2><div class="heading-children"><div class="el-p"><p dir="auto"><a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" target="_blank">循环渲染</a> 适用于短列表，当构建具有大量列表项的长列表时，如果直接采用循环渲染方式，会一次性加载所有的列表元素，会导致页面启动时间过长，影响用户体验。因此，推荐使用 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">数据懒加载</a> （LazyForEach）方式实现按需迭代加载数据，从而提升列表性能。</p></div><div class="el-p"><p dir="auto">关于长列表按需加载优化的具体实现可参考 <a data-tooltip-position="top" aria-label="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" rel="noopener nofollow" class="external-link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">数据懒加载</a> 章节中的示例。</p></div><div class="el-p"><p dir="auto">当使用懒加载方式渲染列表时，为了更好的列表滚动体验，减少列表滑动时出现白块，List组件提供了cachedCount参数用于设置列表项缓存数，只在懒加载LazyForEach中生效。</p></div><div class="el-p"><p dir="auto">收起</p></div><div class="el-p"><p dir="auto">深色代码主题</p></div><div class="el-p"><p dir="auto">复制</p></div><div class="el-pre"><pre class="language-typescript" tabindex="0"><code data-line="0" class="language-typescript is-loaded"><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ...}.cachedCount(3)</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">以垂直列表为例：</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">若懒加载是用于ListItem，当列表为单列模式时，会在List显示的ListItem前后各缓存cachedCount个ListItem；若是多列模式下，会在List显示的ListItem前后各缓存cachedCount * 列数个ListItem。</li>
<li data-line="1" dir="auto">若懒加载是用于ListItemGroup，无论单列模式还是多列模式，都是在List显示的ListItem前后各缓存cachedCount个ListItemGroup。</li>
</ul></div><div class="el-p"><p dir="auto">说明</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">cachedCount的增加会增大UI的CPU、内存开销。使用时需要根据实际情况，综合性能和用户体验进行调整。</li>
<li data-line="1" dir="auto">列表使用数据懒加载时，除了显示区域的列表项和前后缓存的列表项，其他列表项会被销毁。</li>
</ol></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="折叠与展开" dir="auto" class="heading" id="折叠与展开"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>折叠与展开</h2><div class="heading-children"><div class="el-p"><p dir="auto">列表项的折叠与展开用途广泛，常用于信息清单的展示、填写等应用场景。</p></div><div class="el-p"><p dir="auto"><strong>图19</strong> 列表项的折叠与展开</p></div><div class="el-p"><p dir="auto"><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428175939.80316400796282956458788935073862:50001231000000:2800:688B0CF5E4DBFB5B7D5C8CD0E591D325F5973E50C2C2020E1A4F514998D03EE0.gif" referrerpolicy="no-referrer"></p></div><div class="el-p"><p dir="auto">列表项折叠与展开效果实现主要流程如下：</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">定义列表项数据结构。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="4" class="language-typescript is-loaded"><span class="token keyword">interface</span> <span class="token class-name">ItemInfo</span> <span class="token punctuation">{</span>  index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>  label<span class="token operator">:</span> ResourceStr<span class="token punctuation">,</span>  type<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span><span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">ItemGroupInfo</span> <span class="token keyword">extends</span> <span class="token class-name">ItemInfo</span> <span class="token punctuation">{</span>  children<span class="token operator">:</span> ItemInfo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="8" dir="auto">构造列表结构。<br>
收起<br>
深色代码主题<br>
复制
<pre class="language-typescript" tabindex="0"><code data-line="12" class="language-typescript is-loaded"><span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> routes<span class="token operator">:</span> ItemGroupInfo<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    index<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'basicInfo'</span><span class="token punctuation">,</span>    label<span class="token operator">:</span> <span class="token string">'个人基本资料'</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        index<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>        name<span class="token operator">:</span> <span class="token string">'昵称'</span><span class="token punctuation">,</span>        label<span class="token operator">:</span> <span class="token string">'xxxx'</span><span class="token punctuation">,</span>        type<span class="token operator">:</span> <span class="token string">'Text'</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        index<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        name<span class="token operator">:</span> <span class="token string">'头像'</span><span class="token punctuation">,</span>        label<span class="token operator">:</span> <span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'sys.media.ohos_user_auth_icon_face'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        type<span class="token operator">:</span> <span class="token string">'Image'</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        index<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>        name<span class="token operator">:</span> <span class="token string">'年龄'</span><span class="token punctuation">,</span>        label<span class="token operator">:</span> <span class="token string">'xxxx'</span><span class="token punctuation">,</span>        type<span class="token operator">:</span> <span class="token string">'Text'</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        index<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>        name<span class="token operator">:</span> <span class="token string">'生日'</span><span class="token punctuation">,</span>        label<span class="token operator">:</span> <span class="token string">'xxxxxxxxx'</span><span class="token punctuation">,</span>        type<span class="token operator">:</span> <span class="token string">'Text'</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        index<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>        name<span class="token operator">:</span> <span class="token string">'性别'</span><span class="token punctuation">,</span>        label<span class="token operator">:</span> <span class="token string">'xxxxxxxx'</span><span class="token punctuation">,</span>        type<span class="token operator">:</span> <span class="token string">'Text'</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    index<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'equipInfo'</span><span class="token punctuation">,</span>    label<span class="token operator">:</span> <span class="token string">'设备信息'</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    index<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'appInfo'</span><span class="token punctuation">,</span>    label<span class="token operator">:</span> <span class="token string">'应用使用信息'</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    index<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'uploadInfo'</span><span class="token punctuation">,</span>    label<span class="token operator">:</span> <span class="token string">'您主动上传的数据'</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    index<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'tradeInfo'</span><span class="token punctuation">,</span>    label<span class="token operator">:</span> <span class="token string">'交易与资产信息'</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    index<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'otherInfo'</span><span class="token punctuation">,</span>    label<span class="token operator">:</span> <span class="token string">'其他资料'</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> expandedItems<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>routes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">State</span></span> selection<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// ...</span>
    <span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">{</span> space<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>routes<span class="token punctuation">,</span> <span class="token punctuation">(</span>itemGroup<span class="token operator">:</span> ItemGroupInfo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">ListItemGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          header<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ListItemGroupHeader</span><span class="token punctuation">(</span>itemGroup<span class="token punctuation">)</span><span class="token punctuation">,</span>          style<span class="token operator">:</span> ListItemGroupStyle<span class="token punctuation">.</span><span class="token constant">CARD</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>expandedItems<span class="token punctuation">[</span>itemGroup<span class="token punctuation">.</span>index<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> itemGroup<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">ForEach</span><span class="token punctuation">(</span>itemGroup<span class="token punctuation">.</span>children<span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> ItemInfo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>              <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span> style<span class="token operator">:</span> ListItemStyle<span class="token punctuation">.</span><span class="token constant">CARD</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">Row</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                  <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span>                  <span class="token function">Blank</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'Image'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">Image</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>label<span class="token punctuation">)</span>                      <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>                      <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>label<span class="token punctuation">)</span>                  <span class="token punctuation">}</span>                  <span class="token function">Image</span><span class="token punctuation">(</span><span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'sys.media.ohos_ic_public_arrow_right'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">fillColor</span><span class="token punctuation">(</span><span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'sys.color.ohos_id_color_fourth'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>                <span class="token punctuation">}</span>                <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">"100%"</span><span class="token punctuation">)</span>              <span class="token punctuation">}</span>              <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">"100%"</span><span class="token punctuation">)</span>              <span class="token punctuation">.</span><span class="token function">animation</span><span class="token punctuation">(</span><span class="token punctuation">{</span> curve<span class="token operator">:</span> curves<span class="token punctuation">.</span><span class="token function">interpolatingSpring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">528</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">"100%"</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span>  <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">justifyContent</span><span class="token punctuation">(</span>FlexAlign<span class="token punctuation">.</span>Start<span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token function">$r</span><span class="token punctuation">(</span><span class="token string">'sys.color.ohos_id_color_sub_background'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="16" dir="auto">通过改变ListItem的状态，来控制每个列表项是否展开，并通过animation和animateTo来实现展开与折叠过程中的动效效果。</li>
</ol></div><div class="mod-footer mod-ui"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="harmonyos\布局\列表.html#创建列表 (List)-构建布局-开发布局-UI开发 (ArkTS声明式开发范式)-ArkUI（方舟UI框架）-应用框架"><div class="tree-item-contents heading-link" heading-name="创建列表 (List)-构建布局-开发布局-UI开发 (ArkTS声明式开发范式)-ArkUI（方舟UI框架）-应用框架"><span class="tree-item-title">创建列表 (List)-构建布局-开发布局-UI开发 (ArkTS声明式开发范式)-ArkUI（方舟UI框架）-应用框架</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#布局与约束"><div class="tree-item-contents heading-link" heading-name="布局与约束"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">布局与约束</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="harmonyos\布局\列表.html#布局"><div class="tree-item-contents heading-link" heading-name="布局"><span class="tree-item-title">布局</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="harmonyos\布局\列表.html#约束"><div class="tree-item-contents heading-link" heading-name="约束"><span class="tree-item-title">约束</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#开发布局"><div class="tree-item-contents heading-link" heading-name="开发布局"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">开发布局</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="harmonyos\布局\列表.html#设置主轴方向"><div class="tree-item-contents heading-link" heading-name="设置主轴方向"><span class="tree-item-title">设置主轴方向</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#在列表中显示数据"><div class="tree-item-contents heading-link" heading-name="在列表中显示数据"><span class="tree-item-title">在列表中显示数据</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#迭代列表内容"><div class="tree-item-contents heading-link" heading-name="迭代列表内容"><span class="tree-item-title">迭代列表内容</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#自定义列表样式"><div class="tree-item-contents heading-link" heading-name="自定义列表样式"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">自定义列表样式</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="harmonyos\布局\列表.html#设置内容间距"><div class="tree-item-contents heading-link" heading-name="设置内容间距"><span class="tree-item-title">设置内容间距</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="harmonyos\布局\列表.html#添加分隔线"><div class="tree-item-contents heading-link" heading-name="添加分隔线"><span class="tree-item-title">添加分隔线</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="harmonyos\布局\列表.html#添加滚动条"><div class="tree-item-contents heading-link" heading-name="添加滚动条"><span class="tree-item-title">添加滚动条</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#支持分组列表"><div class="tree-item-contents heading-link" heading-name="支持分组列表"><span class="tree-item-title">支持分组列表</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#添加粘性标题"><div class="tree-item-contents heading-link" heading-name="添加粘性标题"><span class="tree-item-title">添加粘性标题</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#控制滚动位置"><div class="tree-item-contents heading-link" heading-name="控制滚动位置"><span class="tree-item-title">控制滚动位置</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#响应滚动位置"><div class="tree-item-contents heading-link" heading-name="响应滚动位置"><span class="tree-item-title">响应滚动位置</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#响应列表项侧滑"><div class="tree-item-contents heading-link" heading-name="响应列表项侧滑"><span class="tree-item-title">响应列表项侧滑</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#给列表项添加标记"><div class="tree-item-contents heading-link" heading-name="给列表项添加标记"><span class="tree-item-title">给列表项添加标记</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#下拉刷新与上拉加载"><div class="tree-item-contents heading-link" heading-name="下拉刷新与上拉加载"><span class="tree-item-title">下拉刷新与上拉加载</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#编辑列表"><div class="tree-item-contents heading-link" heading-name="编辑列表"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">编辑列表</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="harmonyos\布局\列表.html#新增列表项"><div class="tree-item-contents heading-link" heading-name="新增列表项"><span class="tree-item-title">新增列表项</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="harmonyos\布局\列表.html#删除列表项"><div class="tree-item-contents heading-link" heading-name="删除列表项"><span class="tree-item-title">删除列表项</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#长列表的处理"><div class="tree-item-contents heading-link" heading-name="长列表的处理"><span class="tree-item-title">长列表的处理</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="harmonyos\布局\列表.html#折叠与展开"><div class="tree-item-contents heading-link" heading-name="折叠与展开"><span class="tree-item-title">折叠与展开</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>